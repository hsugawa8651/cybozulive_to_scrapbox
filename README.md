# cybozulive_to_scrapbox

サイボウズLive のログを Scrapbox へ輸出するのを助けるツール

(Scrapbox への輸入用 JSONファイルを作成するRubyスクリプト)

## 使い方

- サイボウズLiveにログイン。 対象グループ [設定] > [エクスポート] を閲覧。
- 掲示板またはイベントのデータを保存 (CSVファイル)。 文字コードは UTF-8 を指定。
- PCのターミナルで、以下を実行

```shell
ruby cybozulive_to_scrapbox file1.csv file2.csv... > cl.json
```

- 得られた cl.json を Scrapbox の Import Pages で輸入

## 仕様 (現行)

- 輸出対象は「掲示板」または「イベント」のみ。
- csvファイルの直上のディレクトリ（フォルダー)の名前を、サイボウズLiveのグループ名とみなす。
- 掲示板の各トピックが Scrapbox の 1ページとなる。Scrapboxのページタイトル： `グループ名:掲示板:トピック名`
- 各イベントが Scrapbox の 1ページとなる、Scrapboxのページタイトル： `グループ名:イベント:年/月/日:イベント名`

- ページタイトル中の 半角の角括弧 `[]` を、全角の角括弧 `［］`に置換
- 作成日時、更新日時の行の末尾に、[yyyy-mm-dd] の形で年月日リンクを追加
- 作成者や行進者の値を半角の角括弧 `[]` で囲む。 

## 詳細

- ファイルの中身の種類の判別は、CSVファイルのヘッダーの最初の要素の値による。
`ID` なら掲示板、`開始日付`　ならイベントとみなす。 この二つ以外は処理しない
